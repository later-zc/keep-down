响应首部字段是由服务器端向客户端返回响应报文中所使用的字段，用于补充响应的附加信息、服务器信息，以及对客户端的附加要求等信息。

![img](./assets/39.png)
> 图：HTTP 响应报文中使用的首部字段










# Accept-Ranges

首部字段 Accept-Ranges **用来告知客户端服务器是否能处理范围请求，以指定获取服务器端某个部分的资源**。

可指定的字段值有两种，可处理范围请求时指定其为 bytes，反之则指定其为 none。

```http
Accept-Ranges: bytes
```

![img](./assets/40.png)
> 图：当能处理范围请求时，Accept-Ranges: bytes










# Age

首部字段 Age **用于告知客户端源服务器在多久前创建了响应**。字段值的单位为秒。

若创建该响应的服务器是缓存服务器，Age 值是指缓存后的响应再次发起认证到认证完成的时间值。代理创建响应时必须加上首部字段 Age。

```http
Age: 600
 ```

![img](./assets/41.png)










# ETag

首部字段 ETag 用于告知客户端请求资源的实体标识。它是一种可将资源以字符串形式做唯一性标识的方式。服务器会为每份资源分配对应的 ETag 值。

```http
ETag: "82e22293907ce725faf67773957acd12"
```

另外，当资源更新时，ETag 值也需要更新。生成 ETag 值时，并没有统一的算法规则，而仅仅是由服务器来分配。

![img](./assets/42.png)

资源被缓存时，就会被分配唯一性标识。例如，当使用中文版的浏览器访问 http://www.google.com/ 时，就会返回中文版对应的资源，而使用英文版的浏览器访问时，则会返回英文版对应的资源。
两者的 URI 是相同的，所以仅凭 URI 指定缓存的资源是相当困难的。若在下载过程中出现连接中断、再连接的情况，都会依照 ETag 值来指定资源。

![img](./assets/43.png)

ETag 中有强 ETag 值和弱 ETag 值之分：

- **强 ETag 值**
  > 强 ETag 值，不论实体发生多么细微的变化都会改变其值。
  ```http
  ETag: "usagi-1234"
  ```

- **弱 ETag 值**
  > 弱 ETag 值只用于提示资源是否相同。只有资源发生了根本改变，产生差异时才会改变 ETag 值。这时，会在字段值最开始处附加 `W/`。
  ```http
  ETag: W/"usagi-1234"
  ```

















